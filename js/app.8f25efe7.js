(function(){"use strict";var e={3282:function(e,t,s){var n=s(5130),a=s(6768);const o={id:"app"};function r(e,t,s,n,r,i){const u=(0,a.g2)("NavBar"),l=(0,a.g2)("router-view"),c=(0,a.g2)("BottomBar");return(0,a.uX)(),(0,a.CE)("div",o,[i.isWelcomePage?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(u,{key:0})),(0,a.bF)(l),i.isWelcomePage?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(c,{key:1}))])}const i={class:"bottom-bar"},u={class:"home-icon"};function l(e,t,s,n,o,r){const l=(0,a.g2)("font-awesome-icon");return(0,a.uX)(),(0,a.CE)("nav",i,[(0,a.Lk)("button",{class:"nav-item",onClick:t[0]||(t[0]=e=>r.navigateTo("Pet"))},[(0,a.bF)(l,{icon:["fas","paw"],class:"icon"})]),(0,a.Lk)("button",{class:"nav-item",onClick:t[1]||(t[1]=e=>r.navigateTo("Task"))},[(0,a.bF)(l,{icon:["fas","tasks"],class:"icon"})]),(0,a.Lk)("button",{class:"nav-item home-btn",onClick:t[2]||(t[2]=e=>r.navigateTo("Main"))},[(0,a.Lk)("div",u,[(0,a.bF)(l,{icon:["fas","home"],class:"icon"})])]),(0,a.Lk)("button",{class:"nav-item",onClick:t[3]||(t[3]=e=>r.navigateTo("Shop"))},[(0,a.bF)(l,{icon:["fas","store"],class:"icon"})]),(0,a.Lk)("button",{class:"nav-item",onClick:t[4]||(t[4]=e=>r.navigateTo("Profile"))},[(0,a.bF)(l,{icon:["fas","user"],class:"icon"})])])}s(4114);var c={methods:{navigateTo(e){this.$router.push({name:e})}}},v=s(1241);const p=(0,v.A)(c,[["render",l],["__scopeId","data-v-e87d8c8a"]]);var d=p,m=s(4232);const h={class:"nav-bar"},k={class:"nav-item coins"},f={class:"nav-item username"};function g(e,t,s,n,o,r){return(0,a.uX)(),(0,a.CE)("nav",h,[(0,a.Lk)("div",k,"Coins: "+(0,m.v_)(n.virtualCoins),1),(0,a.Lk)("div",f,"Hi, "+(0,m.v_)(n.user?n.user.displayName:"Guest"),1),n.user?((0,a.uX)(),(0,a.CE)("button",{key:0,class:"logout-btn",onClick:t[0]||(t[0]=(...e)=>n.handleLogout&&n.handleLogout(...e))},"Logout")):(0,a.Q3)("",!0)])}var C=s(5234);const b=(0,C.nY)("user",{state:()=>({user:null,virtualCoins:0,petLevel:1}),actions:{setUser(e){this.user=e},setVirtualCoins(e){this.virtualCoins=e},setPetLevel(e){this.petLevel=e},addCoins(e){this.virtualCoins+=e},logout(){this.user=null,this.virtualCoins=0,this.petLevel=1}}});var L={setup(){const e=b(),t=(0,a.EW)((()=>e.user)),s=(0,a.EW)((()=>e.virtualCoins)),n=()=>{e.logout()};return{user:t,virtualCoins:s,handleLogout:n}}};const y=(0,v.A)(L,[["render",g],["__scopeId","data-v-48c9b162"]]);var E=y,I=s(4161),T=s(6400),w=s(7617),S=s(6971);const P={apiKey:"AIzaSyBv5UlN_6wbxZBLZcP13UcwM6unIixKn6I",authDomain:"vue-http-demo-8773a.firebaseapp.com",databaseURL:"https://vue-http-demo-8773a-default-rtdb.firebaseio.com",projectId:"vue-http-demo-8773a",storageBucket:"vue-http-demo-8773a.appspot.com",messagingSenderId:"189657556660",appId:"1:189657556660:web:4650bcc6ad7106bdcc59e1"},X=(0,T.Wp)(P),A=((0,w.aU)(X),(0,I.C3)(X)),_=(0,S.xI)(X),O=new S.HF;function D(){return(0,S.df)(_,O)}var U={name:"App",components:{BottomBar:d,NavBar:E},computed:{isWelcomePage(){return this.$route&&"Welcome"===this.$route.name}},mounted(){this.initializeUserData(),this.setupPassiveIncome()},methods:{initializeUserData(){const e=b(),t=localStorage.getItem("user");if(t){const s=JSON.parse(t);e.setUser(s),this.setupFirebaseSync(s.uid)}},setupFirebaseSync(e){const t=b(),s=(0,I.KR)(A,`users/${e}`);(0,I.Zy)(s,(e=>{const s=e.val();s&&(t.setVirtualCoins(s.virtualCoins),t.setPetLevel(s.petLevel||1))})),setInterval((()=>{(0,I.Zy)(s,(e=>{const s=e.val();s&&(t.setVirtualCoins(s.virtualCoins),t.setPetLevel(s.petLevel||1),console.log("Data updated from Firebase:",s.virtualCoins))}))}),1e4)},setupPassiveIncome(){const e=b(),t=e.user?e.user.uid:null;if(t){const s=(0,I.KR)(A,`users/${t}`);setInterval((()=>{const t=e.virtualCoins+1;e.setVirtualCoins(t),(0,I.yo)(s,{virtualCoins:t})}),1e4)}}}};const W=(0,v.A)(U,[["render",r]]);var F=W,N=s(973);const $={id:"app"},K={key:0,class:"login-container"},x={class:"login-box"},Q={key:1,class:"user-info"},B={class:"form-group"},J={class:"form-group"};function R(e,t,s,o,r,i){return(0,a.uX)(),(0,a.CE)("div",$,[r.user?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",K,[(0,a.Lk)("div",x,[t[4]||(t[4]=(0,a.Lk)("h1",null,"Welcome to TSMC-pet",-1)),t[5]||(t[5]=(0,a.Lk)("p",null,"Your journey to success and rewards starts here",-1)),(0,a.Lk)("button",{class:"login-btn",onClick:t[0]||(t[0]=(...e)=>i.login&&i.login(...e))}," Login with Google ")])])),r.user?((0,a.uX)(),(0,a.CE)("div",Q,[(0,a.Lk)("h2",null,"Welcome, "+(0,m.v_)(r.user.displayName)+"!",1),(0,a.Lk)("p",null,"Your ID: "+(0,m.v_)(r.user.uid),1),(0,a.Lk)("div",B,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.name=e),placeholder:"Enter your pet's name",class:"input-field"},null,512),[[n.Jo,r.name]])]),(0,a.Lk)("div",J,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.balance=e),placeholder:"Enter your pet's energy level",type:"number",class:"input-field"},null,512),[[n.Jo,r.balance,void 0,{number:!0}]])]),(0,a.Lk)("button",{class:"save-btn",onClick:t[3]||(t[3]=(...e)=>i.saveData&&i.saveData(...e))},"Save Pet Info")])):(0,a.Q3)("",!0)])}var j={name:"WelcomePage",data(){return{user:null,name:"",balance:0}},methods:{async login(){try{const e=await D();this.user=e.user,localStorage.setItem("user",JSON.stringify(this.user)),this.$router.push("/main")}catch(e){console.error("Error during Google login:",e)}},saveData(){if(this.user){const e=this.user.uid,t=(0,I.KR)(A,"users/"+e);(0,I.hZ)(t,{petName:this.name,petEnergy:this.balance}).then((()=>{console.log("Pet data saved successfully")})).catch((e=>{console.error("Error saving pet data:",e)}))}}}};const V=(0,v.A)(j,[["render",R]]);var q=V;const Z={id:"main-page"},Y={key:0},M={key:1,class:"card pet-display"},G={class:"pet-level"},z={key:2,class:"card task-status"},H={class:"task-status-text"},ee=["onClick"],te=["onClick"];function se(e,t,s,n,o,r){return(0,a.uX)(),(0,a.CE)("div",Z,[o.user?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",Y,t[0]||(t[0]=[(0,a.Lk)("p",null,"Loading user information...",-1)]))),o.user?((0,a.uX)(),(0,a.CE)("div",M,[t[1]||(t[1]=(0,a.Lk)("h2",null,"Your Pet",-1)),t[2]||(t[2]=(0,a.Lk)("img",{src:"test1.webp",alt:"Pet Image",class:"pet-image"},null,-1)),(0,a.Lk)("p",G,"Level: "+(0,m.v_)(o.petLevel),1)])):(0,a.Q3)("",!0),o.user?((0,a.uX)(),(0,a.CE)("div",z,[t[3]||(t[3]=(0,a.Lk)("h2",null,"Task Status",-1)),t[4]||(t[4]=(0,a.Lk)("p",{class:"task-intro"},"Complete tasks to level up your pet!",-1)),(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.tasks,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.id},[(0,a.Lk)("span",null,(0,m.v_)(e.description),1),(0,a.Lk)("span",H,"Status: "+(0,m.v_)(e.status),1),"not started"===e.status?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t=>r.acceptTask(e)}," Accept Task ",8,ee)):(0,a.Q3)("",!0),"in progress"===e.status?((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:t=>r.completeTask(e)}," Complete Task ",8,te)):(0,a.Q3)("",!0)])))),128))])])):(0,a.Q3)("",!0)])}var ne={data(){return{user:null,petLevel:1,virtualCoins:0,tasks:[],passiveIncomeInterval:null}},mounted(){this.loadUserData()},methods:{loadUserData(){const e=localStorage.getItem("user");if(e){this.user=JSON.parse(e);const t=this.user.uid,s=(0,I.KR)(A,`users/${t}`);(0,I.Zy)(s,(e=>{const t=e.val();t&&(this.petLevel=t.petLevel||1,this.virtualCoins=t.virtualCoins||0,this.tasks=t.tasks||[])})),this.startPassiveIncome()}else this.$router.push("/")},acceptTask(e){e.status="in progress",this.updateTasks()},completeTask(e){e.status="completed",this.petLevel+=1,this.virtualCoins+=10,this.updateTasks()},updateTasks(){const e=this.user.uid,t=(0,I.KR)(A,`users/${e}`);(0,I.yo)(t,{petLevel:this.petLevel,virtualCoins:this.virtualCoins,tasks:this.tasks})},startPassiveIncome(){this.passiveIncomeInterval=setInterval((()=>{this.virtualCoins+=1;const e=this.user.uid,t=(0,I.KR)(A,`users/${e}`);(0,I.yo)(t,{virtualCoins:this.virtualCoins})}),1e4)}},beforeUnmount(){clearInterval(this.passiveIncomeInterval)}};const ae=(0,v.A)(ne,[["render",se],["__scopeId","data-v-46db1d18"]]);var oe=ae;function re(e,t){return(0,a.uX)(),(0,a.CE)("div",null,"Pet")}const ie={},ue=(0,v.A)(ie,[["render",re]]);var le=ue;function ce(e,t){return(0,a.uX)(),(0,a.CE)("div",null,"Shop")}const ve={},pe=(0,v.A)(ve,[["render",ce]]);var de=pe;const me={class:"task-page"},he={class:"form-group"};function ke(e,t,s,o,r,i){return(0,a.uX)(),(0,a.CE)("div",me,[t[3]||(t[3]=(0,a.Lk)("h2",null,"Add New Task",-1)),(0,a.Lk)("form",{onSubmit:t[1]||(t[1]=(0,n.D$)(((...e)=>i.addTask&&i.addTask(...e)),["prevent"]))},[(0,a.Lk)("div",he,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.newTaskDescription=e),placeholder:"Enter task description",required:""},null,512),[[n.Jo,r.newTaskDescription]])]),t[2]||(t[2]=(0,a.Lk)("button",{type:"submit"},"Add Task",-1))],32),t[4]||(t[4]=(0,a.Lk)("h2",null,"Existing Tasks",-1)),(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.tasks,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.id},(0,m.v_)(e.description)+" - Status: "+(0,m.v_)(e.status),1)))),128))])])}var fe={data(){return{newTaskDescription:"",tasks:[]}},mounted(){this.loadTasks()},methods:{addTask(){const e=JSON.parse(localStorage.getItem("user")).uid,t=(0,I.KR)(A,`users/${e}/tasks`),s={description:this.newTaskDescription,status:"not started"};(0,I.VC)(t,s).then((()=>{this.newTaskDescription=""})).catch((e=>{console.error("Error adding task:",e)}))},loadTasks(){const e=JSON.parse(localStorage.getItem("user")).uid,t=(0,I.KR)(A,`users/${e}/tasks`);(0,I.Zy)(t,(e=>{const t=e.val(),s=[];for(const n in t)s.push({id:n,...t[n]});this.tasks=s}))}}};const ge=(0,v.A)(fe,[["render",ke],["__scopeId","data-v-fd79bf86"]]);var Ce=ge;function be(e,t){return(0,a.uX)(),(0,a.CE)("div",null,"Profile")}const Le={},ye=(0,v.A)(Le,[["render",be]]);var Ee=ye;const Ie=[{path:"/",name:"Welcome",component:q},{path:"/main",name:"Main",component:oe,meta:{requiresAuth:!0}},{path:"/pet",name:"Pet",component:le,meta:{requiresAuth:!0}},{path:"/shop",name:"Shop",component:de,meta:{requiresAuth:!0}},{path:"/task",name:"Task",component:Ce,meta:{requiresAuth:!0}},{path:"/profile",name:"Profile",component:Ee,meta:{requiresAuth:!0}}],Te=(0,N.aE)({history:(0,N.LA)(),routes:Ie});Te.beforeEach(((e,t,s)=>{const n=JSON.parse(localStorage.getItem("user"));e.matched.some((e=>e.meta.requiresAuth))&&!n?s("/"):s()}));var we=Te,Se=s(8950),Pe=s(2353),Xe=s(292);Se.Yv.add(Pe.GY1,Pe.AgW,Pe.v02,Pe.H37,Pe.X46);const Ae=(0,n.Ef)(F),_e=(0,C.Ey)();Ae.component("font-awesome-icon",Xe.gc),Ae.use(we),Ae.use(_e),Ae.mount("#app")}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,n,a,o){if(!n){var r=1/0;for(c=0;c<e.length;c++){n=e[c][0],a=e[c][1],o=e[c][2];for(var i=!0,u=0;u<n.length;u++)(!1&o||r>=o)&&Object.keys(s.O).every((function(e){return s.O[e](n[u])}))?n.splice(u--,1):(i=!1,o<r&&(r=o));if(i){e.splice(c--,1);var l=a();void 0!==l&&(t=l)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,a,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,o,r=n[0],i=n[1],u=n[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(a in i)s.o(i,a)&&(s.m[a]=i[a]);if(u)var c=u(s)}for(t&&t(n);l<r.length;l++)o=r[l],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(c)},n=self["webpackChunkpet"]=self["webpackChunkpet"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[504],(function(){return s(3282)}));n=s.O(n)})();
//# sourceMappingURL=app.8f25efe7.js.map